import java.util.HashSet;
import java.util.Set;

class Solution{
    public boolean hasAllCodes(String s,int k) {
        int n=s.length();
        if(n<(1<<k)){
             return false;
        }
        boolean[] seen=new boolean[1<<k];
        int cur=0;
        int count=0;
        
        for(int i=0;i<n;i++){
            cur=((cur<<1)&((1<<k)-1))|(s.charAt(i)-'0');
            if (i>=k-1){
                if(!seen[cur]){
                    seen[cur]=true;
                    count++;
                    if(count==(1<<k)){
                        return true;
                    }
                }
            }
        }
        return false;
    }
}
